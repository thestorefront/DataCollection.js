<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="DataCollection : Manipulate large, in-memory datasets with ease using JavaScript">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>DataCollection</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/thestorefront/DataCollection">View on GitHub</a>

          <h1 id="project_title">DataCollection</h1>
          <h2 id="project_tagline">Manipulate large, in-memory datasets with ease using JavaScript</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/thestorefront/DataCollection/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/thestorefront/DataCollection/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="datacollection-" class="anchor" href="#datacollection-"><span class="octicon octicon-link"></span></a>DataCollection <img src="http://img.shields.io/badge/coverage-95.5%25-brightgreen.svg" alt="'coverage'">
</h1>

<p>Manipulate large, in-memory datasets with ease using JavaScript.</p>

<p>Inspired by modern Object Relational Managers, DataCollection is a
JavaScript library for storage, filtration, manipulation and accession of large
datasets. It is ideal for working with data returned from RESTful API
endpoints.</p>

<p>Boasting synchronous performance that nears native Array manipulation for large
(&gt;10,000) recordsets, let DataCollection do your heavy lifting for you.</p>

<h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<p>You can begin using DataCollection by embedding the following script (assumes
  it has been placed in your root directory)</p>

<h3>
<a name="web" class="anchor" href="#web"><span class="octicon octicon-link"></span></a>Web</h3>

<div class="highlight highlight-html"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/data_collection.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p>Alternatively, the minified version can be found at</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/data_collection-min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p>You can then start using <code>DataCollection</code> objects with</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">dc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DataCollection</span><span class="p">();</span>
</pre></div>

<h3>
<a name="node" class="anchor" href="#node"><span class="octicon octicon-link"></span></a>node</h3>

<div class="highlight highlight-bash"><pre><span class="nv">$ </span>npm install data-collection
</pre></div>

<p>Followed by a script with this require...</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">DataCollection</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'data-collection'</span><span class="p">);</span>
</pre></div>

<p>Woohoo!</p>

<h1>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h1>

<p>DataCollection can be used for fast, synchronous processing of large datasets
(arrays of objects) - i.e. a RESTful API response.</p>

<p>It is especially useful for maintaining maps of specific keys and indexing
results.</p>

<p>Let's say that I have a standardized Array containing the results of a RESTful
API response. My data set looks like this:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">characters</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Jon'</span><span class="p">,</span>
    <span class="nx">last_name</span><span class="o">:</span> <span class="s1">'Snow'</span><span class="p">,</span>
    <span class="nx">gender</span><span class="o">:</span> <span class="s1">'m'</span><span class="p">,</span>
    <span class="nx">age</span><span class="o">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="nx">location</span><span class="o">:</span> <span class="s1">'Winterfell'</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Eddard'</span><span class="p">,</span>
    <span class="nx">last_name</span><span class="o">:</span> <span class="s1">'Stark'</span><span class="p">,</span>
    <span class="nx">gender</span><span class="o">:</span> <span class="s1">'m'</span><span class="p">,</span>
    <span class="nx">age</span><span class="o">:</span> <span class="mi">35</span><span class="p">,</span>
    <span class="nx">location</span><span class="o">:</span> <span class="s1">'Winterfell'</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Catelyn'</span><span class="p">,</span>
    <span class="nx">last_name</span><span class="o">:</span> <span class="s1">'Stark'</span><span class="p">,</span>
    <span class="nx">gender</span><span class="o">:</span> <span class="s1">'f'</span><span class="p">,</span>
    <span class="nx">age</span><span class="o">:</span> <span class="mi">33</span><span class="p">,</span>
    <span class="nx">location</span><span class="o">:</span> <span class="s1">'Winterfell'</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Roose'</span><span class="p">,</span>
    <span class="nx">last_name</span><span class="o">:</span> <span class="s1">'Bolton'</span><span class="p">,</span>
    <span class="nx">gender</span><span class="o">:</span> <span class="s1">'m'</span><span class="p">,</span>
    <span class="nx">age</span><span class="o">:</span> <span class="mi">40</span><span class="p">,</span>
    <span class="nx">location</span><span class="o">:</span> <span class="s1">'Dreadfort'</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Ramsay'</span><span class="p">,</span>
    <span class="nx">last_name</span><span class="o">:</span> <span class="s1">'Snow'</span><span class="p">,</span>
    <span class="nx">gender</span><span class="o">:</span> <span class="s1">'m'</span><span class="p">,</span>
    <span class="nx">age</span><span class="o">:</span> <span class="mi">15</span><span class="p">,</span>
    <span class="nx">location</span><span class="o">:</span> <span class="s1">'Dreadfort'</span>
  <span class="p">}</span>
<span class="p">];</span>
</pre></div>

<p>First off, let's load this data into a <code>DataCollection</code>...</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">charDC</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DataCollection</span><span class="p">(</span><span class="nx">characters</span><span class="p">);</span>
</pre></div>

<p>Now, let's approach some problems...</p>

<hr><h3>
<a name="how-do-i-find-the-bastards-from-the-north" class="anchor" href="#how-do-i-find-the-bastards-from-the-north"><span class="octicon octicon-link"></span></a>How do I find the Bastards from the North?</h3>

<p><code>filter</code> allows us to look for a specific value.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">bastards</span> <span class="o">=</span> <span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="nx">last_name</span><span class="o">:</span> <span class="s1">'Snow'</span><span class="p">}).</span><span class="nx">values</span><span class="p">();</span>
</pre></div>

<hr><h3>
<a name="how-do-i-find-out-the-highest-age" class="anchor" href="#how-do-i-find-out-the-highest-age"><span class="octicon octicon-link"></span></a>How do I find out the highest age?</h3>

<p>A simple <code>max()</code> call will do the trick.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">topAge</span> <span class="o">=</span> <span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="s1">'age'</span><span class="p">);</span>
</pre></div>

<hr><h3>
<a name="how-do-i-find-all-the-unique-locations" class="anchor" href="#how-do-i-find-all-the-unique-locations"><span class="octicon octicon-link"></span></a>How do I find all the unique locations?</h3>

<p>DataCollection provides an easy <code>distinct</code> function for use.</p>

<h6>
<a name="datacollection" class="anchor" href="#datacollection"><span class="octicon octicon-link"></span></a>DataCollection</h6>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">locations</span> <span class="o">=</span> <span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">().</span><span class="nx">distinct</span><span class="p">(</span><span class="s1">'location'</span><span class="p">);</span>
</pre></div>

<hr><h3>
<a name="what-if-i-want-to-permanently-remove-catelyn-and-eddard" class="anchor" href="#what-if-i-want-to-permanently-remove-catelyn-and-eddard"><span class="octicon octicon-link"></span></a>What if I want to permanently remove Catelyn and Eddard?</h3>

<p>No problem!</p>

<h6>
<a name="datacollection-1" class="anchor" href="#datacollection-1"><span class="octicon octicon-link"></span></a>DataCollection</h6>

<div class="highlight highlight-javascript"><pre><span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="nx">first_name__in</span><span class="o">:</span> <span class="p">[</span><span class="s1">'Catelyn'</span><span class="p">,</span> <span class="s1">'Eddard'</span><span class="p">]}).</span><span class="nx">remove</span><span class="p">();</span>
</pre></div>

<hr><h3>
<a name="more-examples" class="anchor" href="#more-examples"><span class="octicon octicon-link"></span></a>More examples</h3>

<div class="highlight highlight-javascript"><pre><span class="c1">// Will return Jon, Eddard and Ramsay</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">({</span><span class="nx">gender</span><span class="o">:</span> <span class="s1">'m'</span><span class="p">,</span> <span class="nx">age__lt</span><span class="o">:</span> <span class="mi">40</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">values</span><span class="p">();</span>

<span class="c1">// Updates location</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">({</span><span class="nx">location</span><span class="o">:</span> <span class="s1">'Winterfell'</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">exclude</span><span class="p">({</span><span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Jon'</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">update</span><span class="p">({</span><span class="nx">location</span><span class="o">:</span> <span class="s1">'King\'s Landing'</span><span class="p">});</span>

<span class="c1">// Finds Roose, Ramsay</span>
<span class="nx">chardDC</span><span class="p">.</span><span class="nx">query</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">({</span><span class="nx">first_name__contains</span><span class="o">:</span> <span class="s1">'R'</span><span class="p">});</span>

<span class="c1">// Finds Roose, Ramsay, Eddard --- case insensitive</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">({</span><span class="nx">first_name__icontains</span><span class="o">:</span> <span class="s1">'R'</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">values</span><span class="p">();</span>

<span class="c1">// Creates a mapping for current future values...</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">createMapping</span><span class="p">(</span><span class="s1">'is_bastard'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">row</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">row</span><span class="p">.</span><span class="nx">last_name</span> <span class="o">===</span> <span class="s1">'Snow'</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// true</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Jon'</span><span class="p">}).</span><span class="nx">first</span><span class="p">().</span><span class="nx">is_bastard</span><span class="p">;</span>
<span class="c1">// false</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">().</span><span class="nx">filter</span><span class="p">({</span><span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Catelyn'</span><span class="p">}).</span><span class="nx">first</span><span class="p">().</span><span class="nx">is_bastard</span><span class="p">;</span>

<span class="c1">// Add an entry (Can accept each entry as an argument, or an array)</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">insert</span><span class="p">({</span>
  <span class="nx">id</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span>
  <span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Rob'</span><span class="p">,</span>
  <span class="nx">last_name</span><span class="o">:</span> <span class="s1">'Stark'</span><span class="p">,</span>
  <span class="nx">gender</span><span class="o">:</span> <span class="s1">'m'</span><span class="p">,</span>
  <span class="nx">age</span><span class="o">:</span> <span class="mi">14</span><span class="p">,</span>
  <span class="nx">location</span><span class="o">:</span> <span class="s1">'Winterfell'</span>
<span class="p">});</span>

<span class="c1">// new entry, but is also false</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">().</span><span class="nx">filer</span><span class="p">({</span><span class="nx">first_name</span><span class="o">:</span> <span class="s1">'Rob'</span><span class="p">}).</span><span class="nx">first</span><span class="p">().</span><span class="nx">is_bastard</span><span class="p">;</span>

<span class="c1">// will return Eddard and Catelyn rows</span>
<span class="nx">charDC</span><span class="p">.</span><span class="nx">query</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">'age'</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span> <span class="c1">// sortDesc = true</span>
  <span class="p">.</span><span class="nx">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">values</span><span class="p">();</span>
</pre></div>

<p>And there's more! Try playing around.</p>

<h1>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h1>

<h2>
<a name="datacollection-object" class="anchor" href="#datacollection-object"><span class="octicon octicon-link"></span></a>DataCollection Object</h2>

<h5>
<a name="datacollection-2" class="anchor" href="#datacollection-2"><span class="octicon octicon-link"></span></a>DataCollection</h5>

<pre><code>DataCollection( [Optional Array] data )
</code></pre>

<p>Constructor (used with <code>new</code> keyword)</p>

<p>If provided data, will run <code>DataCollection.prototype.load(data)</code></p>

<hr><h3>
<a name="methods" class="anchor" href="#methods"><span class="octicon octicon-link"></span></a>Methods</h3>

<hr><h5>
<a name="datacollectionprototypedefineindex" class="anchor" href="#datacollectionprototypedefineindex"><span class="octicon octicon-link"></span></a>DataCollection.prototype.defineIndex</h5>

<pre><code>defineIndex( [String] key )
  returns self
</code></pre>

<p>Define a <em>unique</em> key to use as an index for this collection
  used for <code>DataCollection.prototype.exists</code>, <code>DataCollection.prototype.fetch</code> and
  <code>DataCollection.prototype.destroy</code></p>

<p>All indexed values will be converted to strings, be careful about
  uniqueness</p>

<hr><h5>
<a name="datacollectionprototypecreatemapping" class="anchor" href="#datacollectionprototypecreatemapping"><span class="octicon octicon-link"></span></a>DataCollection.prototype.createMapping</h5>

<pre><code>createMapping( [String] key, [Function] map -&gt; ([Object] row) )
  returns self
</code></pre>

<p>Define a mapped key, and a function that returns the associated value
  based on the input row. Can be used any time, new mappings will be applied
  to your DataCollection immediately.</p>

<h6>
<a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example:</h6>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">dc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DataCollection</span><span class="p">();</span>
<span class="nx">dc</span><span class="p">.</span><span class="nx">createMapping</span><span class="p">(</span><span class="s1">'c'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">row</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">row</span><span class="p">[</span><span class="s1">'a'</span><span class="p">]</span> <span class="o">+</span> <span class="nx">row</span><span class="p">[</span><span class="s1">'b'</span><span class="p">];</span> <span class="p">});</span>
<span class="nx">dc</span><span class="p">.</span><span class="nx">load</span><span class="p">([{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">3</span><span class="p">}]);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">dc</span><span class="p">.</span><span class="nx">query</span><span class="p">().</span><span class="nx">last</span><span class="p">());</span> <span class="c1">// logs {a: 2, b: 3, c: 5}</span>
</pre></div>

<hr><h5>
<a name="datacollectionprototypeexists" class="anchor" href="#datacollectionprototypeexists"><span class="octicon octicon-link"></span></a>DataCollection.prototype.exists</h5>

<pre><code>exists( [String] indexedValue )
  returns boolean
</code></pre>

<p>Determine whether the DataCollection has an entry with the specified index
  based on your index key</p>

<hr><h5>
<a name="datacollectionprototypefetch" class="anchor" href="#datacollectionprototypefetch"><span class="octicon octicon-link"></span></a>DataCollection.prototype.fetch</h5>

<pre><code>fetch( [String] indexedValue )
  returns Object
</code></pre>

<p>fetches object (if it exists) associated with the specified index based on
  your index key. Otherwise, returns <code>null</code>.</p>

<hr><h5>
<a name="datacollectionprototypedestroy" class="anchor" href="#datacollectionprototypedestroy"><span class="octicon octicon-link"></span></a>DataCollection.prototype.destroy</h5>

<pre><code>destroy( [String] indexedValue )
  returns true
</code></pre>

<p>Destroys object (if it exists) associated with the specified index based
  on your index key. Otherwise, throws an error.</p>

<hr><h5>
<a name="datacollectionprototypeload" class="anchor" href="#datacollectionprototypeload"><span class="octicon octicon-link"></span></a>DataCollection.prototype.load</h5>

<pre><code>load( [Object] row_1, ..., [Object] row_n )
load( [Array] data )
  returns true
</code></pre>

<p>Loads (truncates, then adds) new data from individual row Objects or an
  array of row Objects</p>

<hr><h5>
<a name="datacollectionprototypeinsert" class="anchor" href="#datacollectionprototypeinsert"><span class="octicon octicon-link"></span></a>DataCollection.prototype.insert</h5>

<pre><code>insert( [Object] row_1, ..., [Object] row_n )
insert( [Array] data )
  returns true
</code></pre>

<p>Inserts new data from individual row Objects or an array of row Objects</p>

<hr><h5>
<a name="datacollectionprototypetruncate" class="anchor" href="#datacollectionprototypetruncate"><span class="octicon octicon-link"></span></a>DataCollection.prototype.truncate</h5>

<pre><code>truncate()
  returns true
</code></pre>

<p>Empties all data from DataCollection</p>

<hr><h5>
<a name="datacollectionprototypequery" class="anchor" href="#datacollectionprototypequery"><span class="octicon octicon-link"></span></a>DataCollection.prototype.query</h5>

<pre><code>query()
  returns DataCollectionQuery
</code></pre>

<p>returns a new DataCollectionQuery containing a referential set of all data
  from the parent DataCollection.</p>

<h2>
<a name="datacollectionquery-object" class="anchor" href="#datacollectionquery-object"><span class="octicon octicon-link"></span></a>DataCollectionQuery Object</h2>

<h5>
<a name="datacollectionquery" class="anchor" href="#datacollectionquery"><span class="octicon octicon-link"></span></a>DataCollectionQuery</h5>

<pre><code>DataCollectionQuery()
</code></pre>

<p>Constructor, only accessible via <code>DataCollection.prototype.query()</code></p>

<hr><h3>
<a name="methods-1" class="anchor" href="#methods-1"><span class="octicon octicon-link"></span></a>Methods</h3>

<hr><h5>
<a name="datacollectionqueryprototypefilter" class="anchor" href="#datacollectionqueryprototypefilter"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.filter</h5>

<pre><code>filter( [Object] filters )
  returns new DataCollectionQuery
</code></pre>

<p>Returns a new <code>DataCollectionQuery</code> containing a referential subset of its
  parent. <em>Contains</em> filtered values (see: <strong>Filters</strong>)</p>

<hr><h5>
<a name="datacollectionqueryprototypeexclude" class="anchor" href="#datacollectionqueryprototypeexclude"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.exclude</h5>

<pre><code>exclude( [Object] filters )
  returns new DataCollectionQuery
</code></pre>

<p>Returns a new <code>DataCollectionQuery</code> containing a referential subset of its
  parent. <em>Excludes</em> filtered values (see: <strong>Filters</strong>)</p>

<hr><h5>
<a name="datacollectionqueryprototypespawn" class="anchor" href="#datacollectionqueryprototypespawn"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.spawn</h5>

<pre><code>spawn( [Boolean] ignoreIndex )
  returns new DataCollection
</code></pre>

<p>Creates a new <code>DataCollection</code> object (non-referential, new values) from
  all data contained within the current <code>DataCollectionQuery</code>. Will inherit the
  parent DataCollection's index unless <code>ignoreIndex</code> is set to true.</p>

<hr><h5>
<a name="datacollectionqueryprototypeeach" class="anchor" href="#datacollectionqueryprototypeeach"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.each</h5>

<pre><code>each( [Function] callback -&gt; ([Object] row, [Integer] index) )
  returns self
</code></pre>

<p>Loops through all rows of data, and performs <code>callback</code> for each one</p>

<h6>
<a name="example-1" class="anchor" href="#example-1"><span class="octicon octicon-link"></span></a>Example</h6>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">dc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DataCollection</span><span class="p">([{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">}]);</span>
<span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="nx">dc</span><span class="p">.</span><span class="nx">query</span><span class="p">();</span>
<span class="nx">dc</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">row</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">index</span> <span class="o">+</span> <span class="s1">': '</span> <span class="o">+</span> <span class="nx">row</span><span class="p">[</span><span class="s1">'a'</span><span class="p">]</span> <span class="o">+</span> <span class="s1">', '</span> <span class="o">+</span> <span class="nx">row</span><span class="p">[</span><span class="s1">'b'</span><span class="p">]);</span>
<span class="p">});</span>

<span class="c1">// logs</span>
<span class="c1">//    0: 1, 2</span>
<span class="c1">//    1: 2, 3</span>
</pre></div>

<hr><h5>
<a name="datacollectionqueryprototypeupdate" class="anchor" href="#datacollectionqueryprototypeupdate"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.update</h5>

<pre><code>update( [Object] values )
  returns self
</code></pre>

<p>Assigns all key-value pairs from <em>values</em> to every row in the current
  selection (updates parent DataCollection)</p>

<hr><h5>
<a name="datacollectionqueryprototyperemove" class="anchor" href="#datacollectionqueryprototyperemove"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.remove</h5>

<pre><code>remove()
  returns true
</code></pre>

<p>Removes all rows contained in <code>DataCollectionQuery</code> from the parent
  <code>DataCollection</code></p>

<hr><h5>
<a name="datacollectionqueryprototypesort" class="anchor" href="#datacollectionqueryprototypesort"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.sort</h5>

<pre><code>sort( [String] key, [Optional Boolean] sortDesc = false )
  returns DataCollectionQuery
</code></pre>

<p>Returns a new DataCollectionQuery containing the parent's rows, sorted
  by a specific key (descending if sortDesc = true).</p>

<p>Sort order is as follows:
  null, NaN, Number, Infinity, Boolean, String, Object</p>

<hr><h5>
<a name="datacollectionqueryprototypevalues" class="anchor" href="#datacollectionqueryprototypevalues"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.values</h5>

<pre><code>values( [Optional String] key )
  returns Array
</code></pre>

<p>Returns an array of all row Objects (each Object is referential!) in the
  <code>DataCollectionQuery</code>, or an array of all values from a specific key if
  provided</p>

<hr><h5>
<a name="datacollectionqueryprototypemax" class="anchor" href="#datacollectionqueryprototypemax"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.max</h5>

<pre><code>max( [String] key )
  returns Float
</code></pre>

<p>Returns the maximum value (JavaScript "greater than (&gt;)") contained in key
  from the <code>DataCollectionQuery</code> subset</p>

<hr><h5>
<a name="datacollectionqueryprototypemin" class="anchor" href="#datacollectionqueryprototypemin"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.min</h5>

<pre><code>min( [String] key )
  returns Float
</code></pre>

<p>Returns the minimum value (JavaScript "greater than (&gt;)") contained in key
  from the DataCollectionQuery subset</p>

<hr><h5>
<a name="datacollectionqueryprototypesum" class="anchor" href="#datacollectionqueryprototypesum"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.sum</h5>

<pre><code>sum( [String] key )
  returns Float
</code></pre>

<p>Returns the numeric sum of all values contained in key from the
  <code>DataCollectionQuery</code> subset</p>

<hr><h5>
<a name="datacollectionqueryprototypeavg" class="anchor" href="#datacollectionqueryprototypeavg"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.avg</h5>

<pre><code>avg( [String] key )
  returns Float
</code></pre>

<p>Returns the numeric average of all values contained in key from the
  <code>DataCollectionQuery</code> subset</p>

<hr><h5>
<a name="datacollectionqueryprototypereduce" class="anchor" href="#datacollectionqueryprototypereduce"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.reduce</h5>

<pre><code>reduce( [String] key, [Function] callback -&gt; ([Any] prevValue, [Any] curValue, [Any] index) )
  returns Any
</code></pre>

<p>Runs a specified reduction function on all values contained in key from
  the <code>DataCollectionQuery</code> subset.</p>

<hr><h5>
<a name="datacollectionqueryprototypedistinct" class="anchor" href="#datacollectionqueryprototypedistinct"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.distinct</h5>

<pre><code>distinct( [String] key )
  returns Array
</code></pre>

<p>Returns an array of all unique values (converted to String) with specified
  key from the <code>DataCollectionQuery</code> subset</p>

<hr><h5>
<a name="datacollectionqueryprototypelimit" class="anchor" href="#datacollectionqueryprototypelimit"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.limit</h5>

<pre><code>limit( [Integer] count )
limit( [Integer] offset, [Integer] count )
  returns new DataCollectionQuery
</code></pre>

<p>Returns a new <code>DataCollectionQuery</code> containing the first <em>count</em> items from
  the current <code>DataCollectionQuery</code>, or containing <em>count</em> items beginning at
  <em>offset</em></p>

<hr><h5>
<a name="datacollectionqueryprototypecount" class="anchor" href="#datacollectionqueryprototypecount"><span class="octicon octicon-link"></span></a>DataCollectionQuery.prototype.count</h5>

<pre><code>count()
  returns Integer
</code></pre>

<p>Returns the amount of items (rows) in the current DataCollectionQuery</p>

<h2>
<a name="filters" class="anchor" href="#filters"><span class="octicon octicon-link"></span></a>Filters</h2>

<p>DataCollection supports a number of filters in the <code>filter()</code> and <code>exclude()</code>
functions. Many will be familiar if you've used the Django ORM or checked out
another project of ours, <a href="http://github.com/thestorefront/FastAPI">FastAPI</a>.</p>

<p>All filters are prefixed with a double underscore when used.</p>

<h5>
<a name="is" class="anchor" href="#is"><span class="octicon octicon-link"></span></a>is</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span>
</pre></div>

<p>Checks for exact equivalence. Equivalent to no specified filter. (Only the field
name). Exists for the purpose of standardization and edge cases (i.e. if your
field ends with <code>__</code>).</p>

<hr><h5>
<a name="not" class="anchor" href="#not"><span class="octicon octicon-link"></span></a>not</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">a</span> <span class="o">!==</span> <span class="nx">b</span>
</pre></div>

<p>Checks for inequivalence. (Not exactly matching.)</p>

<hr><h5>
<a name="gt" class="anchor" href="#gt"><span class="octicon octicon-link"></span></a>gt</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">a</span> <span class="o">&gt;</span> <span class="nx">b</span>
</pre></div>

<p>Checks if contained value is greater than provided value.</p>

<hr><h5>
<a name="gte" class="anchor" href="#gte"><span class="octicon octicon-link"></span></a>gte</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">a</span> <span class="o">&gt;=</span> <span class="nx">b</span>
</pre></div>

<p>Checks if contained value is greater than or equal to provided value.</p>

<hr><h5>
<a name="lt" class="anchor" href="#lt"><span class="octicon octicon-link"></span></a>lt</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">a</span> <span class="o">&lt;</span> <span class="nx">b</span>
</pre></div>

<p>Checks if contained value is less than provided value.</p>

<hr><h5>
<a name="lte" class="anchor" href="#lte"><span class="octicon octicon-link"></span></a>lte</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">a</span> <span class="o">&lt;=</span> <span class="nx">b</span>
</pre></div>

<p>Checks if contained value is less than or equal to provided value.</p>

<hr><h5>
<a name="contains" class="anchor" href="#contains"><span class="octicon octicon-link"></span></a>contains</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">a</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

<p>Checks if contained value contains the provided value. Works for strings
or arrays.</p>

<hr><h5>
<a name="icontains" class="anchor" href="#icontains"><span class="octicon octicon-link"></span></a>icontains</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">a</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">())</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

<p>Case insensitive contains. Only works for strings comparisons.</p>

<hr><h5>
<a name="in" class="anchor" href="#in"><span class="octicon octicon-link"></span></a>in</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">b</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

<p>Checks if the contained value exists in the provided value. Works for strings or
arrays.</p>

<hr><h5>
<a name="not_in" class="anchor" href="#not_in"><span class="octicon octicon-link"></span></a>not_in</h5>

<div class="highlight highlight-javascript"><pre><span class="nx">b</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>

<p>Checks if the contained value does not exist in the provided value. Works for
strings or arrays.</p>

<h1>
<a name="tests-and-benchmarks" class="anchor" href="#tests-and-benchmarks"><span class="octicon octicon-link"></span></a>Tests and Benchmarks</h1>

<p>Current test coverage is <strong>95.5%</strong></p>

<p>Included with this repository are tests (in <code>/tests</code>) to make sure everything
is running as expected.</p>

<p>There is a node webserver in the root repository directory that can be used
for testing on <code>localhost:8888</code>. To start the server (with node installed) simply run:</p>

<pre><code>$ node testserv.js
</code></pre>

<p>Tests are run using <a href="http://qunitjs.com/">QUnit</a>, coverage sampled using <a href="http://blanketjs.org/">Blanket.js</a>.</p>

<p>A few benchmarks are logged in the JavaScript developer console.</p>

<h1>
<a name="acknowledgements" class="anchor" href="#acknowledgements"><span class="octicon octicon-link"></span></a>Acknowledgements</h1>

<p>DataCollection is MIT licensed, feel free to use it wherever you'd like.
Thanks for checking us out! We welcome good, thoughtful contributions.</p>

<p>DataCollection was created at
<a href="http://thestorefront.com/">Storefront, Inc.</a> in 2014 by <a href="http://keithwhor.com">Keith Horwood</a>.</p>

<p>Feel free to follow on Twitter:</p>

<p><a href="http://twitter.com/thestorefront">@thestorefront</a>, <a href="http://twitter.com/keithwhor">@keithwhor</a></p>

<p>Or check out our GitHub Repositories for more libraries:</p>

<p><a href="http://github.com/thestorefront">Storefront on GitHub</a>, <a href="http://github.com/keithwhor">Keith Horwood on GitHub</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">DataCollection maintained by <a href="https://github.com/thestorefront">thestorefront</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-44899638-7");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
